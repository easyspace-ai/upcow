控制系统（Brain）设计文档
—— Polymarket 15min 市场的连续控制引擎
1. 为什么“控制系统”是核心，而不是策略

在 Polymarket 15 分钟 BTC Up / Down 市场中：

没有无限时间

没有连续价格

没有真正的平仓

只有一个不可逆的终局

这不是一个“预测问题”，而是一个“控制问题”。

预测：我认为会涨 / 跌
控制：在不确定性随时间坍缩的过程中，我如何活下来并获利

因此，本系统的核心不是：

网格

阈值

规则集合

而是一个：

连续时间 × 连续信号 × 连续输出的控制系统（Brain）

2. 控制系统的目标函数（Objective）
控制系统不追求最大收益，而追求：

在任意时刻保持风险可控

在共识形成过程中持续捕获结构性摩擦

在不可逆状态出现前，避免系统性错误

一句话：

让系统在“未知 → 已知”的过程中，
始终处于可控轨道内。

3. 控制系统输入（State Variables）

控制系统不直接“看价格”，而是看 状态变量。

3.1 核心输入信号
变量	含义
P_up / P_down	Up / Down 当前概率
Entropy	市场不确定性
Velocity	概率变化速度
Acceleration	概率变化的加速度
TimeRemaining	距离结算剩余时间
3.2 为什么不用固定时间分段

三段五分钟是人为离散化，而市场是连续的：

有时 2 分钟就进入单边

有时 10 分钟仍然混沌

因此时间在系统中是一个 连续衰减因子，而不是阶段标签。

4. Entropy（不确定性）是第一性变量
4.1 定义

Entropy 用于衡量：

市场是否仍然“有分歧”

典型形式（示意）：

Entropy = - (p * log p + (1-p) * log(1-p))

4.2 Entropy 的作用

Entropy 高 → 市场分歧大 → 可积极参与

Entropy 低 → 市场趋同 → 风险不再对称

👉 Entropy 决定“是否值得继续博弈”

5. Velocity / Acceleration（动态变量）
5.1 Velocity（速度）

共识形成的速度

20 → 40 → 60：慢速

20 → 80：高速

5.2 Acceleration（加速度）

速度是否在加快

这是识别：

突发单边

信息冲击

非线性跃迁

的关键。

6. 双控制通道（Dual-Channel Control）
6.1 为什么需要双通道

单一控制律无法同时处理：

稳态波动

极端冲击

6.2 两个通道
通道	作用
Normal	稳态吸收、细粒度调整
Shock	极端行情下快速重配
6.3 连续混合，而非切换

最终输出不是“选一个”，而是：

Output = w * Normal + (1-w) * Shock


其中 w 由：

Entropy

Velocity

Acceleration

连续决定。

7. 时间压力（Time Pressure）

时间不是背景变量，而是 直接参与控制。

7.1 原则

同样的信号，在不同时刻，意义完全不同

7.2 表现

时间越接近结算：

Gain 自动下降

允许的风险敞口减少

防止：

尾盘被迫暴露

时间耗尽风险

8. Auto-Gain（在线参数自适应）
8.1 为什么不能固定 Gain

固定 Gain 等于假设：

市场行为稳定

波动结构恒定

这是错误的。

8.2 自适应原则
情况	Gain 行为
高 Entropy	↑
高 Velocity	↑
时间衰减	↓
接近 Freeze	↓

Gain 是一个连续函数，不是开关。

9. Freeze Detector（策略层冻结）
9.1 Freeze 的本质

Freeze ≠ 止损
Freeze = 状态空间坍缩

当：

概率接近 0 / 100

Entropy → 0

共识不可逆

继续交易的期望值为负。

9.2 Freeze 行为

禁止新增仓位

只允许风险下降

不可逆

这是对现实的承认，而不是失败。

10. 控制系统的输出（Actions）

控制系统只输出 意图，而非直接下单：

Up / Down 相对权重

本轮允许的最大风险增量

是否进入 Shock / Survival 模式

具体执行由下游模块完成。

11. 控制系统与风险系统的边界
系统	职责
控制系统	如何交易
风控 / Kill-Switch	是否还能交易

👉 控制系统 永远不能否决 Kill-Switch

12. 控制系统的哲学总结

这不是在“猜市场”
而是在“约束自己在不确定性中的行为”

它更接近：

飞控系统

自动驾驶

工业控制

而不是传统意义上的交易策略。