# Gobet 交易机器人配置文件示例
# 复制此文件为 config.yaml 并修改相应的配置
#
# 注意：钱包配置（private_key, funder_address）会自动从 data/user.json 加载
# 无需在此配置文件中设置钱包信息

# 代理配置（可选，如果不设置会从 data/user.json 加载）
proxy:
  host: "127.0.0.1"
  port: 15236

# 策略配置（bbgo main 风格：exchangeStrategies 动态挂载）
# 格式说明：
# - on: 会话名（本项目通常是 "polymarket"）
# - 其余 key 是策略 ID（如 updown, grid, threshold, arbitrage 等）
# - value 是该策略的配置
exchangeStrategies:

  # 订单监听策略（测试用：监听所有订单，自动挂止盈）
  # - on: polymarket
  #   orderlistener:
  #     profitTargetCents: 4  # 止盈利润（分）：监听到订单成交时，加多少分利润挂止盈单

  #网格策略配置（已注释，如需启用请取消注释）
  - on: polymarket
    grid:
      gridLevels: [62, 65, 71, 77,86,90,93,94,95,96]  # 网格层级列表（分）
      orderSize: 3                  # 订单大小（share数量）
      minOrderSize: 1.1            # 最小下单金额（USDC）
      enableDoubleSide: true       # 双向交易
      profitTargetCents: 3         # 止盈目标（分）
      gridLevelSlippageCents: 2    # 允许 bestAsk 略高于网格层级（cents）
      maxRoundsPerPeriod: 0        # 每个周期最多交易几轮（0=不限制，默认等待当前轮次完全止盈后才开始下一轮）
      waitForRoundComplete: true   # 是否等待当前轮次完全止盈后才开始下一轮（默认 true）

# 系统级配置
order_status_check_timeout: 3   # 订单状态检查超时时间（秒），如果WebSocket在此时长内没有更新，则启用API轮询，默认3秒
order_status_check_interval: 3  # 订单状态API轮询间隔（秒），默认3秒

# 订单大小限制配置
minOrderSize: 1.1    # 最小订单金额（USDC），默认 1.1（交易所要求 >= 1）
minShareSize: 5.0   # 限价单最小 share 数量，默认 5.0（仅限价单 GTC 时应用，Polymarket 要求）

# 日志配置
log_level: "info"         # 日志级别：debug, info, warn, error
log_file: "logs/bot.log"  # 日志文件路径
log_by_cycle: true        # 是否按周期命名日志文件（一个周期一个日志文件，格式：bot_2025-12-17_22-30.log）

# 纸交易模式（dry run）
# 如果设置为 true，不会进行真实交易，只在日志中打印订单信息，方便测试策略
dry_run: true            # 纸交易模式：true = 仅模拟交易，false = 真实交易

# 订单状态同步配置
# 定期通过API同步订单状态，作为WebSocket的补充机制
# 官方API限流：150请求/10秒（约15次/秒），理论上可支持1秒，但建议3秒以上
order_status_sync_interval_with_orders: 3     # 有活跃订单时的同步间隔（秒），默认3秒（需要快速判断是否下对冲单）
order_status_sync_interval_without_orders: 30 # 无活跃订单时的同步间隔（秒），默认30秒

GRID_HEALTH_LOG_INTERVAL_SECONDS: 15
GRID_STRONG_HEDGE_DEBOUNCE_SECONDS: 2
GRID_ENABLE_ADHOC_STRONG_HEDGE: true